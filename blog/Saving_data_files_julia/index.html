<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
     <link rel="stylesheet" href="/libs/highlight/github.min.css">
   
    <link rel="stylesheet" href="/css/franklin.css">
<link rel="stylesheet" href="/css/tufte.css">
<link rel="stylesheet" href="/css/latex.css">
<link rel="stylesheet" href="/css/adjust.css"> <!-- sheet to overwrite some clashing styles -->
<link rel="icon" href="/assets/favicon.png">

     <title> Saving data files in Julia</title>  
</head>

<body>
<div id="layout">
  <div id="menu">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/tags/">Tags</a></li>
    </ul>
  </div>
  <div id="main">



<!-- Content appended here -->
<div class="franklin-content"><h1 id="saving_data_files_in_julia"><a href="#saving_data_files_in_julia" class="header-anchor">Saving data files in Julia</a></h1>
<p><strong>Shuvomoy Das Gupta</strong></p>
<p><em>April 28, 2020</em></p>
<p>In this blog we will discuss ways of saving data into a file in Julia. We will discuss two methods of doing it: using <code>JLD2</code> package and writing directly into a <code>.jl</code> file. The literate code for this blog is available at: <a href="https://raw.githubusercontent.com/Shuvomoy/blog/gh-pages/codes/saving_data_files_julia.jl">this link</a>.</p>
<hr />
<p><strong>Table of contents</strong></p>
<div class="franklin-toc"><ol><li><a href="#method_1_using_jld2_package">Method 1: Using <code>JLD2</code> Package</a></li><li><a href="#method_2_writing_into_a_jl_file">Method 2: Writing into a <code>.jl</code> File</a></li></ol></div>
<hr />
<h2 id="method_1_using_jld2_package"><a href="#method_1_using_jld2_package" class="header-anchor">Method 1: Using <code>JLD2</code> Package</a></h2>
<p>Probably the quickest method to save the relevant data is to use the package <code>JLD2</code>.</p>
<pre><code class="language-julia">using JLD2

A &#61; randn&#40;5,5&#41;

b &#61; randn&#40;5&#41;

str &#61; &quot;hello world&quot;</code></pre>
<p>Suppose, we want to save the variables <code>A</code>, <code>b</code>, and <code>str</code>, so that we could load them later for some other purpose.</p>
<p>Saving is done by using the following command.</p>
<pre><code class="language-julia">@save &quot;example.jld2&quot; A b str</code></pre>
<p>Now suppose we want to load the variables<code>A</code>, <code>b</code>, and <code>str</code> into our workspace. Then we can do that using the following command.</p>
<pre><code class="language-julia">@load &quot;example.jld2&quot; A b str</code></pre>
<p>Which will load the desired variables in our work space.</p>
<h2 id="method_2_writing_into_a_jl_file"><a href="#method_2_writing_into_a_jl_file" class="header-anchor">Method 2: Writing into a <code>.jl</code> File</a></h2>
<p>Now, in some circles, people prefer to save their data into some sort of text file that can be opened and seen using notepad etc. In such case, we could proceed as follows.</p>
<pre><code class="language-julia">output_file &#61; open&#40;&quot;output_file.jl&quot;,&quot;w&quot;&#41; # this will create a file named output_file.jl, where we will write the data.

write&#40;output_file, &quot;# We are saving the variables A, b, and str \n \n&quot;&#41; # this line will act as a comment in the original file</code></pre>
<p>The following command will write <code>A</code> into <code>output_file.jl</code></p>
<pre><code class="language-julia">write&#40;output_file, &quot;A &#61; &quot;&#41; # writes A &#61;

show&#40;output_file, A&#41; # writes the content of A

write&#40;output_file, &quot;; \n \n&quot;&#41; # puts a semicolon to suppress the output and two line breaks</code></pre>
<p>The following command will write <code>b</code> into <code>output_file.jl</code></p>
<pre><code class="language-julia">write&#40;output_file, &quot;b &#61; &quot;&#41; # writes b &#61;

show&#40;output_file, b&#41; # writes the content of b

write&#40;output_file, &quot;; \n \n&quot;&#41; # puts a semicolon to suppress the output and two line breaks</code></pre>
<p>The following command will write <code>str</code> into <code>output_file.jl</code></p>
<pre><code class="language-julia">write&#40;output_file, &quot;str &#61; &quot;&#41; # writes str &#61;

show&#40;output_file, str&#41; # writes the content of str

write&#40;output_file, &quot;; \n \n&quot;&#41; # puts a semicolon to suppress the output and two line breaks</code></pre>
<p>Finally we close the file.</p>
<pre><code class="language-julia">close&#40;output_file&#41;</code></pre>
<p>The benefit of this method is that we can open <code>output_file.jl</code> as a normal julia file and observe the contents of <code>A</code>, <code>b</code>, <code>str</code> which are preferred by some people. If we open the file, it will look something similar to the following.</p>
<pre><code class="language-julia"># We are saving the variables A, b, and c

A &#61; &#91;0.2660919202329622 0.3836364273856932 -0.0843680697224458 -0.41802388053627293 -0.3642969656325985; -1.6326433489594656 0.8264017202126758 0.822230872741246 -2.131477875645448 -0.47154398683850046; 0.44945692740036236 1.8601083201122803 0.21328754042393291 1.6337810748330106 0.22377743588354782; 0.4650833154598731 0.7577147546636607 -0.3759919034593861 -0.7268603483224291 -1.355544453370908; 1.22775636169604 -0.6810273422844582 0.39118388831225326 0.6436653188719305 0.7072677389318383&#93;;

b &#61; &#91;-0.4480408521367389, -0.2470478314562805, -0.5170341188440505, -0.5941415056081019, -1.3602127485958821&#93;;

str &#61; &quot;hello world&quot;;</code></pre>
<p>To load the variables in this case, we just run the following command.</p>
<pre><code class="language-julia">include&#40;&quot;output_file.jl&quot;&#41;</code></pre>
<p><strong>Some side note regarding generating the literate code:</strong> First, cd to the directory where the file is in by running the a command similar to the following. <code>cd&#40;&quot;C:\\Users\\shuvo\\Desktop&quot;&#41;</code> Then, run <code>using Literate</code> Finally, run <code>Literate.markdown&#40;&quot;name_of_the_file.jl&quot;, &quot;.&quot;; documenter&#61;false&#41;</code></p>
<hr />
<p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p>
<div class="page-foot">
  <div class="copyright">
    &copy; Shuvomoy Das Gupta. Last modified: May 20, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->
        </div> <!-- end of id=main -->
    </div> <!-- end of id=layout -->
    
    
        <script src="/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
